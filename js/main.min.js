!function e(t,n,i){function l(r,s){if(!n[r]){if(!t[r]){var o="function"==typeof require&&require;if(!s&&o)return o(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,(function(e){return l(t[r][1][e]||e)}),d,d.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)l(i[r]);return l}({1:[function(e,t,n){let i=e("./FileManager"),l=null;t.exports={editor:function(){return l},create:function(e,t){l=monaco.editor.create(e,t),l.onDidChangeModelContent((function(e){let t=i.getActiveFile();null!=t&&(t.contents=l.getValue())})),this.remeasureFonts(),window.addEventListener("resize",()=>l.layout())},getValue:function(){return l.getValue()},setValue:function(e){l.setValue(e)},changeLanguage:function(e){monaco.editor.setModelLanguage(l.getModel(),e)},remeasureFonts:function(){setTimeout(()=>monaco.editor.remeasureFonts(),1500)},loadFile:function(e){i.setActiveFile(e.id);let t=i.getActiveFile();null==l?this.create(document.getElementById("ide-container"),{value:t.contents,language:t.type,theme:"synth",wordWrap:"on",fontFamily:"Cascadia Code, Consolas, Courier New, monospace"}):(this.changeLanguage(t.type),this.setValue(t.contents))},unloadAll:function(){i.setActiveFile(""),this.setValue(""),this.changeLanguage("html")}}},{"./FileManager":2}],2:[function(e,t,n){let i="",l=[],a=[],r=[{id:"file_1",name:"css",path:"css",type:"folder",files:[]},{id:"file_2",name:"js",path:"js",type:"folder",files:[]},{id:"file_3",name:"index.html",path:"index.html",type:"html",contents:'<!DOCTYPE html>\n<html>\n<head>\n\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t<meta http-equiv="X-UA-Compatible" content="IE=edge" />\n\t<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />\n\t<link rel="stylesheet" href="/css/style.css">\n</head>\n<body>\n\t<h1>Hello</h1>\n\t<script src="./js/main.js"><\/script>\n</body>\n</html>',default:!0},{id:"file_4",name:"style.css",path:"css/style.css",type:"css",contents:"* { box-sizing: border-box; }"},{id:"file_5",name:"main.js",path:"js/main.js",type:"js",contents:"console.log('hello world')"}];t.exports={files:function(){return l},tree:()=>a,init:function(){l=[...r]},getDefaultFile:function(){return this.files().filter(e=>e.default)[0]},getActiveFile:function(){let e=l.findIndex(e=>e.id==i);return e>-1?l[e]:null},setActiveFile:function(e){i=e},getFileByID:function(e){let t=l.filter(t=>t.id==e);return t.length>0?{...t[0]}:null}}},{}],3:[function(e,t,n){const l=e("./FileManager"),a=new RegExp(/<script.*src.*=.*("|')(?!\w*(?:http|www)).*\.js('|").*<\/script>/,"gi"),r=new RegExp(/(?<=src.*=.*('|"))(.*)(?=('|"))/,"gi"),s=new RegExp(/<link.*href.*=.*("|')(?!\w*(?:http|www)).*\.css('|")[^>]*>/,"gi"),o=new RegExp(/(?<=href.*=.*('|"))(.*)(?=('|"))/,"gi");new RegExp(/^(\.|\/)\/?/,"g");let c="",d=document.querySelector("#preview .browser iframe");t.exports={buildIframeHtml:function(e,t=d){let n=l.files().filter(t=>t.id==e)[0];if("html"!=n.type)return void console.log(n.name+" is not a valid HTML file");let i=this.injectCssJs(e,n.contents);t.setAttribute("srcdoc",i)},injectCssJs:function(e,t){return t.match(a).forEach(n=>{let i=n.match(r)[0],l=this.getContents(i,e);if(l)t=t.replace(n,`<script>${l}<\/script>`);else{let e=n.replace("src","src-not-found");t=t.replace(n,e)}}),t.match(s).forEach(n=>{let i=n.match(o)[0],l=this.getContents(i,e);if(l)t=t.replace(n,`<style>${l}</style>`);else{let e=n.replace("href","href-not-found");t=t.replace(n,e)}}),t},getContents:function(e,t){c=t;let n=l.files().filter(e=>e.id==t)[0],a=e.match(/^(\.\/|\/)/g);null!=a&&(e=e.replace(a[0],""));let r=null,s=n.path.replace(n.name,"");if(s.length>0&&(r=s.split("/"),r.pop(),r.reverse()),null!=r){let t=(e.match(/\.\./g)||[]).length;for(e=e.replace(/\.\.\//g,""),i=0;i<t&&r.length>0;i++)r.pop();r.length>0&&(e=`${r.join("/")}/${e}`)}let o=l.files().filter(t=>t.path==e);return o.length?o[0].contents:null},reload:function(){this.buildIframeHtml(c)}}},{"./FileManager":2}],4:[function(e,t,n){const i=e("./TreeManagement"),l=e("./IframeManager"),a=e("./FileManager"),r=(e("./EditorHelper"),e("./ToolsManager")),s=e("./TabsManager"),o=e("./Preview");(()=>{a.init();let e=a.getDefaultFile();i.renderFileTree(document.querySelector('[data-type="files"]')),r.init(),s.init(),s.addTab(e.id),l.buildIframeHtml(e.id),o.init()})()},{"./EditorHelper":1,"./FileManager":2,"./IframeManager":3,"./Preview":5,"./TabsManager":6,"./ToolsManager":7,"./TreeManagement":8}],5:[function(e,t,n){let i=e("./IframeManager");t.exports={init:function(){document.querySelector("#preview .navigation .refresh").addEventListener("click",()=>this.reload())},reload:function(){i.reload()}}},{"./IframeManager":3}],6:[function(e,t,n){let i=e("./FileManager"),l=e("./EditorHelper"),a=document.querySelector(".ide-window .tabs"),r=[];t.exports={init:function(){this.closeAllTabs()},getTabList:function(){return r},deselectAllTabs:function(){r.forEach((e,t)=>{r[t].active=!1}),document.querySelectorAll(".tabs > .tab").forEach(e=>e.classList.remove("active"))},selectTab:function(e){i.setActiveFile(e),this.deselectAllTabs();let t=r.findIndex(t=>t.id==e),n=r[t];n.active=!0,l.loadFile(n),document.querySelector(`.tab[data-id="${e}"]`).classList.add("active")},addTab:function(e){if(r.some(t=>t.id==e)){r.filter(t=>t.id==e)[0].active||this.selectTab(e)}else{let t=i.getFileByID(e);r.push(t);let n=this.buildTabHTML(t);a.appendChild(n),this.selectTab(e)}},buildTabHTML:function(e){let t=document.createElement("div");t.className="tab",t.setAttribute("data-type",e.type),t.setAttribute("data-id",""+e.id);let n=document.createElement("span");n.className="name",n.setAttribute("data-type",e.type),n.innerText=e.name,n.addEventListener("click",()=>this.selectTab(e.id));let i=document.createElement("span");return i.className="close-tab codicon",i.addEventListener("click",()=>this.closeTab(e.id)),t.appendChild(n),t.appendChild(i),t},closeTab:function(e){let t=r.findIndex(t=>t.id==e);r.splice(t,1);let n=document.querySelector(`.tab[data-id="${e}"]`);n.parentNode.removeChild(n);let i=r.length;i>0?(t=t>=i?i-1:t,this.selectTab(r[t].id)):l.unloadAll()},closeAllTabs:function(){}}},{"./EditorHelper":1,"./FileManager":2}],7:[function(e,t,n){t.exports={init:function(){this.selectTool("files"),document.querySelector(".tool-switcher .action .files").addEventListener("click",()=>{this.selectTool("files")})},selectTool:function(e){document.querySelector(".sidebar[data-sidebar]").setAttribute("data-sidebar",e)}}},{}],8:[function(e,t,n){const i=e("./utils/Utils.js"),l=e("./FileManager"),a=e("./TabsManager");t.exports={buildTree:function(e,t,n){let l=t.filter(e=>"folder"==e.type).filter(t=>{let n=t.path.replace(e,""),i=n.match(/^(\.\/|\/)/g);return null!=i&&(n=n.replace(i[0],"")),t.name==n});i.sortAlphabetically(l,"name"),n.push(...l),n.forEach(e=>{let n=t.filter(t=>0==t.path.indexOf(e.path+"/"));n.length>0&&this.buildTree(e.path,n,e.files)});let a=t.filter(e=>"folder"!=e.type).filter(t=>{let n=t.path.replace(e,""),i=n.match(/^(\.\/|\/)/g);return null!=i&&(n=n.replace(i[0],"")),t.name==n});i.sortAlphabetically(a,"name"),n.push(...a)},generateTreeHTML:function(e,t){t.forEach(t=>{let n=t.type,i=document.createElement("li");i.classList.add(n),"folder"!=n&&i.classList.add("file"),"folder"==n&&i.classList.add("expanded");let r=document.createElement("span");if(r.innerHTML=t.name,r.id=t.id,i.appendChild(r),"folder"==n){let e=document.createElement("ul");this.generateTreeHTML(e,t.files),i.appendChild(e),r.addEventListener("click",()=>{r.closest("li.folder").classList.contains("expanded")?r.closest("li.folder").classList.remove("expanded"):r.closest("li.folder").classList.add("expanded")})}else r.addEventListener("click",()=>{let e=l.files().filter(e=>e.path==t.path)[0];a.addTab(e.id)});e.appendChild(i)})},renderFileTree:function(e){let t=[];if(this.buildTree("",[...l.files()],t),t.length>0){let n=document.createElement("ul");this.generateTreeHTML(n,t),e.appendChild(n)}else e.innerHTML="<button>Add a new file.</button>"}}},{"./FileManager":2,"./TabsManager":6,"./utils/Utils.js":9}],9:[function(e,t,n){t.exports={sortAlphabetically:(e,t)=>{e.sort((e,n)=>e[t]<n[t]?-1:e[t]>n[t]?1:0)}}},{}]},{},[4]);